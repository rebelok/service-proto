"use strict";!function(e){function n(e){function n(n){return n.some(function(n){return e.indexOf(n)>=0})}if(e){e=e.toLowerCase(),c("searchTerm =",e);var r,u,l,p,d,v=[];return r=n(t),u=n(s),l=n(a),p=n(i),d=r||u||l||p,d&&(l||v.push(o.action),r||v.push(o.place),u||v.push(o.time),p||v.push(o.object),v.type=1),v}}var t=["магазин","супермаркет","универсам"],s=["сегодня"," завтра"],a=["привезти","доставить","доставк","принести","купить"],i=["молоко","молока"],o={place:{title:"Откуда?",list:["Ближайшего магазина","Любого магазина"]},time:{title:"Когда?",list:["Сегодня"," Завтра","21 мая","22 мая"]},action:{title:"Что сделать?",list:["Привезти","Забрать","Купить"]},object:{title:"Что именно?",list:["Фрукты","Молоко","Воду"]}},c=console.log.bind(console,"Search: ");e.searcher={check:n}}(window);var app=function(){function e(){a()}function n(e){var n=$('<div class="suggestion-box"></div>');if(u.empty(),e&&e.length)switch(e.type){case 1:n.append(s(e)).appendTo(u);break;case 2:n.append(t(e)).appendTo(u);break;case 3:n.append($('<span class="suggestions-header js-can-hover">'+e.title+"</span>")).append(s(e)).appendTo(u)}}function t(e){var n=$('<ul class="suggestion-list"></ul>');return n.append(e.reduce(function(e,n){return e+'<li class="suggestion-item js-can-hover">'+n+"</li>"},"")),n}function s(e){var n=$('<ul class="suggestion-big-list"></ul>'),s=e.reduce(function(e,n){var s=$('<li class="suggestion-big-item"></li>'),a='<span class="suggestion-list__header">'+n.title+"</span>";return e.append(s.append(a),s.append(t(n.list)))},n);return s}function a(){$(".js-btn-services").click(function(){$(".main-body").addClass("main-body-text"),$(".js-btn-services").addClass("active"),$(".js-btn-popular").removeClass("active")}),$(".js-btn-popular").click(function(){$(".main-body").removeClass("main-body-text"),$(".js-btn-services").removeClass("active"),$(".js-btn-popular").addClass("active")});var e=$(".search-input");e.on("keyup change",i),u.on("mouseenter",".js-can-hover",function(e){o(),$(e.currentTarget).addClass("item_hovered")}),u.on("mouseup",".suggestion-item",function(n){e.val(e.val()+" "+$(n.currentTarget).text()+" "),e.change()})}function i(e){r(e),c=window.searcher.check(e.target.value),r("suggestionList =",c),n(c),store.set("search",e.target.value),13===e.keyCode&&(window.location.href="search.html")}function o(){u.find(".js-can-hover").removeClass("item_hovered")}var c,r=console.log.bind(console,"App: "),u=$(".suggestion-box-wrapper");return{init:e}}();$(function(){app.init()});