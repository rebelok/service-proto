"use strict";!function(e){function n(e){function n(n){return n.some(function(n){return e.indexOf(n)>=0})}if(e){e=e.toLowerCase(),c("searchTerm =",e);var r,l,u,p,d,g=[];return r=n(t),l=n(s),u=n(a),p=n(i),d=r||l||u||p,d&&(u||g.push(o.action),r||g.push(o.place),l||g.push(o.time),p||g.push(o.object),g.type=1),g}}var t=["магазин","супермаркет","универсам"],s=["сегодня"," завтра"],a=["привезти","доставить","доставк","принести","купить"],i=["молоко","молока"],o={place:{title:"Откуда?",list:["Ближайшего магазина","Любого магазина"]},time:{title:"Когда?",list:["Сегодня"," Завтра","21 мая","22 мая"]},action:{title:"Что сделать?",list:["Привезти","Забрать","Купить"]},object:{title:"Что именно?",list:["Фрукты","Молоко","Воду"]}},c=console.log.bind(console,"Search: ");e.searcher={check:n}}(window),$(function(){function e(e){var s=$('<div class="suggestion-box"></div>');if(r.empty(),e&&e.length)switch(e.type){case 1:s.append(t(e)).appendTo(r);break;case 2:s.append(n(e)).appendTo(r);break;case 3:s.append($('<span class="suggestions-header js-can-hover">'+e.title+"</span>")).append(t(e)).appendTo(r)}}function n(e){var n=$('<ul class="suggestion-list"></ul>');return n.append(e.reduce(function(e,n){return e+'<li class="suggestion-item js-can-hover">'+n+"</li>"},"")),n}function t(e){var t=$('<ul class="suggestion-big-list"></ul>'),s=e.reduce(function(e,t){var s=$('<li class="suggestion-big-item"></li>'),a='<span class="suggestion-list__header">'+t.title+"</span>";return e.append(s.append(a),s.append(n(t.list)))},t);return s}function s(){$(".js-btn-services").click(function(){$(".main-body").addClass("main-body-text"),$(".js-btn-services").addClass("active"),$(".js-btn-popular").removeClass("active")}),$(".js-btn-popular").click(function(){$(".main-body").removeClass("main-body-text"),$(".js-btn-services").removeClass("active"),$(".js-btn-popular").addClass("active")});var e=$(".search-input");e.on("keyup change",a),r.on("mouseenter",".js-can-hover",function(e){i(),$(e.currentTarget).addClass("item_hovered")}),r.on("click",".suggestions-header",function(n){e.val($(n.currentTarget).text()+" "),e.change()}),r.on("click",".suggestion-item",function(n){e.val(e.val()+" "+$(n.currentTarget).text()+" "),e.change()})}function a(n){c(n),o=window.searcher.check(n.target.value),c("suggestionList =",o),e(o),store.set("search",n.target.value),13===n.keyCode&&(window.location.href="search.html")}function i(){r.find(".js-can-hover").removeClass("item_hovered")}var o,c=console.log.bind(console,"App: "),r=$(".suggestion-box-wrapper");s()}());